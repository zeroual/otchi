<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container no-padding">
        <div class="navbar-header">
            <a class="navbar-brand padding-bottom-none padding-top-none" ui-sref="feed">
                <img height="55" src="/assets/images/logo-minion.png" alt="Otchi"/>
                Otchi
            </a>
        </div>
        <div class="navbar-right">
            <div class="navbar-action">
                <div class="dropdown notifications dropdown-notifications">
                    <a style="font-size: 1.8em"
                       class="dropdown-toggle"
                       data-toggle="dropdown">
                        <i data-count="{{$ctrl.notifications.length}}"
                           class="glyphicon glyphicon-bell"
                           ng-class="{'notification-icon':$ctrl.notifications.length>0}"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <ul class="notifications">
                            <li class="notification" ng-if="$ctrl.notifications.length==0">
                                <div>
                                    <strong class="notification-title">
                                        <span translate="navBar.notifications.empty"/>
                                    </strong>
                                </div>
                            </li>
                            <li class="notification" ng-repeat="notification in $ctrl.notifications"
                                ng-click="$ctrl.readNotification(notification)">
                                <div class="media">
                                    <div class="media-left">
                                        <div class="media-object">
                                            <img class="img-circle"
                                                 width="50" height="50"
                                                 ng-src="{{notification.sender.picture}}">
                                        </div>
                                    </div>
                                    <div class="media-body">
                                        <strong class="notification-title">
                                            <a>
                                                {{notification.sender.firstName}}
                                                {{notification.sender.lastName}}
                                            </a>
                                            <span ng-switch="notification.type">
                                                <span ng-switch-when="LIKED"
                                                      translate="navBar.notifications.likes"/>

                                                <span ng-switch-when="COMMENT_ON_POST"
                                                      translate="navBar.notifications.commentedOn"/>

                                                <span ng-switch-when="ALSO_COMMENTED"
                                                      translate="navBar.notifications.alsoCommented"/>
                                            </span>
                                            <span translate="navBar.notifications.yourPost"/>
                                        </strong>
                                        <p class="notification-desc">
                                            {{notification.postPreview}}
                                        </p>

                                        <div class="notification-meta">
                                            <small class="timestamp">{{notification.createdAt| timeAgo}}</small>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class="dropdown-footer text-center">
                            <a href="#">
                                <span translate="navBar.notifications.displayAll"/>
                            </a>
                        </div>
                    </ul>
                </div>
            </div>
            <div class="navbar-action">
                <div class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown">
                        <img class="img-circle"
                             ng-src="{{$ctrl.account.picture}}" width="35"/>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a ui-sref="showProfile({chefId:$ctrl.account.id})">
                                <i class="glyphicon glyphicon-user"></i>
                                <span translate="navBar.myProfile"/>
                            </a>
                        </li>
                        <li>
                            <a href="#"><i class="glyphicon glyphicon-cog"></i>
                                <span translate="navBar.setting"/>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a ng-click="$ctrl.logout()">
                                <i class="glyphicon glyphicon-off"></i>
                                <span translate="navBar.logout"/>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            </ul>
        </div>
    </div>
</div>
